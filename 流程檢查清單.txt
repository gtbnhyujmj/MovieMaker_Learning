最終流程檢查清單
🎬 1. 主時間軸設定
底層影片（MP4）：作為主時間軸的參考，確定總幀數和解析度。

幀數計算：使用 ffprobe 或 cv2.VideoCapture 獲取影片的總幀數。

🖼️ 2. 圖片層處理（PNG 或資料夾）
單張圖片：自動重複至與主影片相同的幀數。

圖片資料夾：如果圖片數量不足，則循環補齊至主影片的幀數。

🔈 3. 音訊層處理（MP3 或 WAV）
音訊長度取得：使用 pydub 或 ffprobe 獲取音訊長度。

透明幀生成：根據音訊長度和影片的 FPS，計算所需的幀數，生成相應數量的透明圖片作為佔位。

🧩 4. 幀對齊與補齊
幀數對齊：所有層的幀數都應與主影片一致。

補齊策略：

圖片層：循環補齊。

音訊層：生成透明幀。

🎞️ 5. 疊圖處理
使用 PIL 或 OpenCV 進行每一幀的疊圖處理，確保透明度和圖層順序正確。

📼 6. 影片合成（MOV，保留透明度）
使用 ffmpeg 將處理後的幀合成為 MOV 格式，使用 prores_ks 編碼器，設定 pix_fmt 為 yuva444p10le 以保留透明度。

🔊 7. 音訊混合與合成
音訊混合：如果有多個音訊層，使用 ffmpeg 的 amix 濾鏡進行混音。

影片與音訊合成：使用 ffmpeg 將合成的影片與音訊合併，確保音訊長度與影片一致。

